# AIに攻略本を作らせたい！ Wikipediaゴルフ編

## はじめに

この本では、「ゲームの攻略本をAI（大規模言語モデル; LLM）に自動で書かせる」という、少し風変わりな試みを紹介する。  
具体的には、Wikipediaゴルフというゲームを題材に、LLMにゲームをプレイさせ、そのプレイ経験をもとに攻略本を少しずつ改訂させていく仕組みを作った。その結果として得られた攻略本の例や、どの程度うまくいったのかという定量評価もあわせて報告する。

ここでいう「攻略本」とは、人間が読んで理解できる日本語テキストであり、ゲームをうまく進めるためのコツや考え方が整理されたものを指す。AlphaGoのような強力なゲームAIは、すでに多くのゲームで人間を上回る実力を示しているが、その内部は大量の数値からなるニューラルネットワークであり、どのような「考え」で一手を選んでいるのかを人間が直接読み解くことは難しい。本書で目指すのは、そうした「ブラックボックスとして強いAI」ではなく、「人間に説明可能な形でテクニックを教えてくれるAI」である。

そのための題材として、Wikipediaゴルフは非常に相性がよい。ゲームの状態が「ページ名」と「リンクの一覧」というテキストだけで表現でき、LLMが得意とする言語処理と親和性が高いからだ。一方で、オセロや将棋などの盤上ゲームでは、LLMは盤面を直接読んで強くなることが苦手であり、結局は人間が書いた定石や戦術記事を学習して再構成する以上のことはやりにくい。本書では、Wikipediaゴルフという「言葉で遊ぶゲーム」を通して、LLMがどこまで自律的に攻略本を作れるのかを探る。

本書の想定読者は、LLMやChatGPTといった技術に興味があり、自分でも何か面白い実験をしてみたいと考えているエンジニアや研究者、あるいは単に「AIに攻略本を書かせる」という発想にワクワクする読者である。PythonとAPIを使った実装の概要にも触れるが、コードの詳細よりも「全体の仕組み」と「得られた知見」に力点を置いて解説する。

## 攻略本をAIに書かせるとは何か

まず、本書で扱う「攻略本」の定義を整理しておく。ここでいう攻略本とは、次のような条件を満たすテキストである。

- ゲームのプレイに役立つ、具体的かつ一般化されたテクニックが書かれている  
- 日本語で書かれており、人間の読者が単体で読んでも意味が通る  
- 文字数は概ね2000文字以下で、短いながらも実用的な内容になっている

既存のゲームAI研究では、「うまくプレイできるかどうか」が主な評価軸となる。AlphaGoに代表される囲碁AIは、人間のトッププロを凌駕するが、内部の重みを眺めても、そこから「布石の基本はこう考えるべきだ」といった解説がそのまま出てくるわけではない。一方、人間向けの攻略本は、ゲームのルールや戦略を「言葉による説明」と「例示」によって伝えることを目的としている。

LLMは、このギャップを埋めるためのツールとして適している。プレイのログや対話履歴を渡して「このゲームをうまく遊ぶコツをまとめてください」と依頼すれば、ある程度筋の通った攻略本らしき文章を生成してくれる。本書の主眼は、このプロセスを一度きりで終わらせるのではなく、「ゲームをプレイする → 結果を踏まえて攻略本を改訂する」というサイクルを何度も回すことで、攻略本の質を自動的に高められるかどうかを検証する点にある。

## Wikipediaゴルフという題材

### Wikipediaゴルフのルール

Wikipediaゴルフは、オンライン百科事典Wikipedia上で遊ぶ一人用ゲームである。公式の説明では、次のように定義されている。

> プレイヤーはWikipediaのある記事からスタートし、ゴールとなる記事になるべく少ないウィキリンクのクリック数または速い時間で移動することを目指します。記事はおまかせ表示で選ぶか、指定されたものを使います。

本書で扱うシステムでは、このアイデアをもとに、LLMがプレイヤーとなって自動でWikipediaゴルフを遊ぶようにルールを整備した。主なルールは次の通りである。

- スタートとゴールのページは、日本語版Wikipedia全体からランダムに選ぶ  
- ただしゴールは、被リンク数が一定以上（実装では閾値を設定）あるページに限定する  
- 各ターンでできる行動は、「現在のページに含まれるリンクから1つを選んで移動」するか、「過去に訪れたページに戻る」ことだけ  
- 手数には上限があり、決められた回数（実装では最大20手）以内にゴールに到達できなければ失敗  
- LLMにはページ本文そのものは見せず、「現在地のページ名」と「リンク先ページ名の一覧」だけを渡す

人間がブラウザで遊ぶWikipediaゴルフとは少し異なり、本システムではページ本文の情報がないため、「リンクの名前」だけを手がかりにゴールに近づく必要がある。これは、LLMにとってもそれなりに難しいパズルであり、同じスタート・ゴールの組み合わせでも、プレイごとに異なるルートを辿ることがある。

### なぜWikipediaゴルフなのか

LLMを使って攻略本を自動生成する題材として、Wikipediaゴルフを選んだ理由は大きく二つある。

第一に、ゲームの状態がテキストだけで完結している点である。スタートとゴールのページ名、現在のページ名、リンク先の候補一覧といった情報は、すべて文字列として表現できる。これらをそのままLLMへのプロンプトに埋め込めばよく、追加の前処理や特殊な表現はほとんど必要ない。

第二に、LLMが比較的得意とする「知識の連想」や「概念の階層構造の理解」がそのまま攻略に直結する点である。例えば、「地方のテレビ中継局」から「国道のバイパス」にたどり着くには、地名や行政区画のページを経由して、道路に関するページに出ていく、といった連想が必要になる。これは、一般的なウェブテキストから学習したLLMが得意とする領域だ。

一方、オセロや将棋といったボードゲームでは、盤面を直接テキスト化しても、その構造をLLMが深く理解するのは簡単ではない。そうしたゲームに対するLLMの強さは、多くの場合、人間が書いた定石や解説記事を学習した結果として現れるに過ぎず、「プレイ経験から自ら戦略を言語化する」という面は弱い。Wikipediaゴルフは、この点でLLMの能力と目的がうまく噛み合う題材と言える。

## LLMにゲームをプレイさせる仕組み

では実際に、どのようにしてLLMにWikipediaゴルフをプレイさせているのか。本書で用いたシステムでは、Pythonで実装したゲームランナーがLLMと対話しながらゲームを進行する。ざっくりとした流れは次の通りである。

1. ゲームランナーがWikipedia APIを使ってスタートとゴールのページをランダムに選ぶ  
2. スタートページのリンク一覧を取得し、現在地・履歴・ターン数などの情報とあわせてLLMにプロンプトとして渡す  
3. LLMは内部で思考過程を文章として出力し、最後の行で「移動先: ○○○」という形式で次に移動するページ名を指定する  
4. ゲームランナーはその指定を検証し、実際にページを移動して履歴に記録する  
5. ゴールに到達すれば成功、手数上限に達するか不正な応答が続いた場合は失敗としてゲームを終了する

実際のやり取りを紹介する。1ターン目にLLMへ送っているプロンプトは次のような形になる（長い箇所は一部省略）。プロンプト内に、既存の攻略本が挿入される。ページの本文は非常に長いケースがあるため、プレイ中、LLMが利用できる情報は「ページ名」と「リンク先ページ名の一覧」のみとなっている。また、ゴールとなる言葉がLLMにとって未知の場合には極めて到達が困難であるため、ヒントとしてページ冒頭の概要文を与えた。

```text
あなたはWikipediaゴルフのプレイヤーです。
基本ルール:
- スタートとゴールのWikipediaページの間をリンクだけで移動します。
- 1ターンでできることは、現在のページからリンクされたページ、または過去に訪れたページへ戻ること。
- 20ターン以内にゴールへ到達できない場合は失敗。
- 提示されるリンク数は最大500個。これ以上存在する場合はランダムに選ばれる。

攻略本:
{ここに攻略本（テキスト）が挿入される}
状況:
- ゴール: 南勢バイパス
- 現在地: 麻績テレビ中継局
- 移動履歴: 麻績テレビ中継局
- ターン: 1/10
- 選択肢(|区切り): 11月20日|12月1日|2008年|信越放送|全国放送|実効放射電力|放送|東筑摩郡|空中線電力|筑北村|聖山 (長野県)|長野市|長野放送|長野朝日放送|長野県|麻績村
- ゴール概要: 南勢バイパス（なんせいバイパス）は、三重県松阪市から伊勢市にかけて市街地を迂回する国道23号バイパス。松阪市西黒部町1交差点から伊勢市通町ICまでは国道42号と重複している。
ゴールに近づくため、次に移動するページを選択肢から1つだけ選んでください。1行目に『考察: 検討過程(100文字まで)』、2行目に『移動先: 選択肢』としてください。
```

これに対してLLMはこのような出力を返す。

```text
考察: 「麻績テレビ中継局」は長野県にあるため、まずは長野県に関連するページへ移動するのが自然。長野県は選択肢にある。
移動先: 長野県
```

ゲームランナーがレスポンスから移動先を抽出し、今度は「長野県」のページに存在するリンクを取得し、次のプロンプトをLLMに送る。

```
状況:
- ゴール: 南勢バイパス
- 現在地: 長野県
- 移動履歴: 麻績テレビ中継局->長野県
- ターン: 2/10
- 選択肢(|区切り): 麻績テレビ中継局|10月10日|下條村|下諏訪温泉|世直し一揆|中井侍駅|中京圏|中央アルプス国定公園|中央自動車道|中央高地|中房温泉|中日ドラゴンズ
ゴールに近づくため、次に移動するページを選択肢から1つだけ選んでください。1行目に『考察: 検討過程(100文字まで)』、2行目に『移動先: 選択肢』としてください。
```

以上の手続きを繰り返し、ゲームが進行していく。ゲームが終了したら、LLM自身にプレイを反省させ、アップデートされた攻略本を生成させる。

```
今回のゲーム結果: 成功. スタート=麻績テレビ中継局, ゴール=南勢バイパス, 手数=6。
上記の対話履歴と移動履歴を踏まえ、攻略本をアップデートしてください。
条件:
- 日本語で2000文字以内。
- 箇条書きまたは短い段落で、観察から得た学びを一般化したテクニックとして記述する。
- スタートとゴールはプレイごとに変化する。「今回」「プレイ」「移動履歴」などの語や、スタート/ゴール/訪問ページの固有名詞を直接書かず、単体で読んでも成立する内容にする。
- 「失敗」「成功」といった語を避け、常に前向きな助言としてまとめる。
- 攻略本のみを出力し、それ以外の文章は書かない。
移動履歴:
- 1手目 麻績テレビ中継局 -> 長野県
- 2手目 長野県 -> 中央高地
- 3手目 中央高地 -> 中部地方
- 4手目 中部地方 -> 三重県
- 5手目 三重県 -> 国道23号
- 6手目 国道23号 -> 南勢バイパス
```

このように、LLMから見える情報はすべてテキストであり、プロンプトの設計がゲームプレイの挙動に直結している。

## 攻略本を自動的に改善する

LLMとゲームランナーを組み合わせれば、手動でChatGPTを操作しなくても、自動的にWikipediaゴルフを何度もプレイさせることができる。ここから一歩進めて、「プレイ経験をもとに攻略本を自動で改訂させる」という仕組みを組み込んだ。

流れは次のようになる。

1. まず、LLMに「Wikipediaゴルフの攻略本を作ってください」と依頼し、初版の攻略本（バージョン0）を生成する  
2. この攻略本をゲームランナーに読み込ませ、Wikipediaゴルフを1プレイ実行する  
3. プレイ中の対話履歴や移動履歴、成功・失敗の結果をまとめてLLMに渡し、「この結果を踏まえて攻略本を改善してください」と依頼する  
4. LLMが出力した新しい攻略本を保存し、次のプレイではその最新版を使う  
5. 上記のサイクルを、所定の回数（実験では100回）繰り返す

このループを回すことで、攻略本はプレイの経験を少しずつ反映しながら改訂されていく。例えば、特定のルートで何度も行き詰まった場合、その原因となった選択の傾向をLLMが読み取り、「一覧ページを早めに踏む」といった指針として言語化してくれることが期待できる。

実装上は、攻略本の長さを2000文字に制限し、特定の実験回に依存する固有名詞や「このプレイでは〜」といった表現を避けるようにプロンプトで指示している。これにより、どのスタート・ゴールの組み合わせに対しても適用できる、汎用的なテクニック集としての性質を保つことを目指した。

## 実験設定

本書で報告する実験では、LLMとしてGoogleのGemini系モデルを利用した。大量のテキストを扱うタスクである点を考慮し、最も安価な「gemini-2.5-flash-lite」を用いている。1プレイあたりおおよそ十数回のAPI呼び出しが発生するため、無料枠だけで長時間の実験を回すのは難しい。そこで、将来の拡張を見据えOpenRouterという仲介サービスを利用し、GeminiやGPTなどのモデルを共通のインターフェースから呼び出せるようにした。

攻略本の改善サイクルを評価するため、以下のような手順で実験を行った。

- まず、日本語版Wikipediaを対象に、スタートとゴールのペアをランダムに100組用意する  
- 初版の攻略本（バージョン0）を用いて、それぞれのペアについてWikipediaゴルフをプレイさせる  
- 次に、Wikipediaゴルフのプレイと攻略本改訂のサイクルを100回回し、その時点での最新版攻略本（バージョン100）を取得する  
- 同じ100組のスタート・ゴールペアについて、改訂版の攻略本を用いて再度プレイさせる  
- 各ペアについて「成功したかどうか」と「到達までの手数」を記録し、初版と改訂版のスコアを比較する

同様の実験を、MediaWikiを採用している他のサイトでも行った。具体的には、ポケモンに特化した「ポケモンWiki」と、旅行情報に特化した「Wikitravel」である。これらのサイトはWikipediaに比べてページ数が少ないため、ゴールとなるページの条件（被リンク数の下限）は10件に設定した。

評価の際には、攻略本の生成は行わず、あくまで既に用意されたバージョン（例: 0, 100）を固定してゲームをプレイさせるだけにした。こうすることで、「攻略本の内容そのものが変化したこと」による影響を切り分けて比較しやすくなる。

## 実験結果

### Wikipediaでの結果

まず、日本語版Wikipediaでの結果を見てみよう。スタートとゴールのペア100組に対して、初版の攻略本と、100回の改訂を経た攻略本とでプレイを行ったところ、

- 初版攻略本での成功率は42%  
- 改訂版攻略本での成功率は47%  

という結果になった。成功率の差は統計的に有意と言い切れるほど大きくはないものの、少なくとも「改訂を重ねた結果、元より明らかに悪くなった」ということはなかった。Wikipediaゴルフに関しては、LLMが学習段階で既にインターネット上の攻略記事やテクニックを読んでいると考えられるため、初版の時点である程度洗練された内容が出てきており、そこからの伸びしろはそれほど大きくなかったのかもしれない。

### ポケモンWikiとWikitravelでの結果

次に、ポケモンWikiとWikitravelでの結果を見てみる。いずれもMediaWikiを採用しており、リンク構造やAPIの扱いはWikipediaとほぼ同じだが、扱われているトピックが特化している点が異なる。

ポケモンWikiにおいて、Wikipediaと同様に攻略本の改訂サイクルを回した。その結果、

- 初版攻略本での成功率は55%  
- 改訂版攻略本では63%まで成功率が向上

という改善が見られた。

Wikitravelでは、もともとの成功率が高めであり、初版の時点で80%の成功率が出ていた。改訂版ではそれが86%まで向上した。こちらも有意差とまでは言いにくいが、「プレイを通じて攻略本を更新しても性能が損なわれず、むしろわずかに改善する」という傾向が確認できた。

### コストと制約

これらの実験では、攻略本の改訂100回に加え、評価用のプレイを含めると合計で300回のゲームプレイ（攻略本改善100回、攻略本を固定した状態での評価プレイ200回）が必要になった。1プレイあたり数十回のAPI呼び出しが発生するため、モデル選択と呼び出し回数の制御には注意が必要である。

本書で扱った規模（300プレイ）であれば、比較的安価なモデルを用いることで、総コストはおよそ1ドル程度に収まる。より高性能なモデルを使えば攻略本の質やプレイ精度が向上する可能性はあるが、その分コストもおよそ10倍程度に増大する。今後、大規模な実験を行う場合には、モデル選択やサンプリング戦略を工夫して「どの程度のコストで、どの程度の攻略本改善が見込めるか」を設計する必要がある。

## 実際に生成された攻略本

ここで、実際にシステムが生成した攻略本の一部を紹介する。いずれも、LLMが自動で生成・改訂したテキストであり、必要最小限の整形だけを行っている。

まず、日本語版Wikipediaを対象としたWikipediaゴルフの攻略本である。初版と改訂版の両方を比較すると、構成や表現は似ているものの、後者の方が若干抽象度が高く、「広い概念から狭い概念へ段階的に絞り込む」ことをより強く意識した書き方になっている。

初版攻略本を示す。

```text
# Wikipediaゴルフ 攻略本 ～20手以内でのゴールを目指せ！～

Wikipediaゴルフは、与えられたスタート地点のWikipediaページから、リンクを辿ってゴール地点のWikipediaページへ、20手以内で到達することを目指すゲームです。この攻略本では、最短手数でゴールするための戦略とテクニックを伝授します。

## 1. 基本戦略：最短距離と「ハブページ」の活用

*   **目標は「最短距離」:** リンクを辿るたびに手数が1増えます。無駄なリンクを辿らず、常にゴールへの最短ルートを探す意識を持ちましょう。
*   **「ハブページ」を見つけ出す:** 多くのページからリンクされており、かつ多くのページへリンクしているページは「ハブページ」と呼ばれます。ハブページは、様々なトピックへの「中継地点」として非常に有効です。
    *   **例:** 「スポーツ」「歴史」「科学」のような、広範な概念を表すページはハブページになりやすいです。
*   **「共通の祖先」を探す:** スタートページとゴールページに共通する、より上位の概念やカテゴリのページを探します。そこから分岐してゴールへ向かうのが効率的です。

## 2. 具体的なテクニックと判断基準

### 2.1. スタート直後の動き

*   **スタートページの「概要」を読む:** まず、スタートページの概要を読み、そのページがどのようなトピックを扱っているのかを把握します。
    *   **判断基準:** 概要から、ゴールページとの関連性が高い単語や概念を見つけ出せるか？
*   **「カテゴリ」欄をチェック:** ページ下部にある「カテゴリ」欄は、そのページが属する上位概念を示しています。ゴールページとの関連性が高いカテゴリがあれば、そこから派生するページを辿るのも有効です。
    *   **判断基準:** ゴールページに関連するカテゴリは存在するか？
*   **「関連項目」欄を参考にする:** ページ下部の「関連項目」欄には、関連性の高い他のページへのリンクが提示されています。
    *   **判断基準:** ゴールページに直接繋がる、またはそれに近いページへのリンクがあるか？

### 2.2. リンク選択の判断基準

*   **「広範な概念」へのリンクを優先:** 具体的な固有名詞よりも、より抽象的で広範な概念を表すページへのリンクを優先的に選びます。
    *   **例:** 「東京タワー」→「建築」→「工学」
*   **「ゴールページ」のキーワードを意識:** ゴールページに含まれるであろうキーワードや概念に繋がりの深いリンクを選びます。
    *   **判断基準:** このリンクを辿ることで、ゴールページに近づく可能性が高いか？
*   **「専門用語」に注意:** あまりにも専門的すぎる用語へのリンクは、かえって遠回りになることがあります。
    *   **判断基準:** この用語は、一般的な知識として理解できる範囲か？
*   **「移動」や「時間」に関するリンク:** スタートページとゴールページが地理的な場所や歴史的な出来事に関連する場合、「地理」「歴史」「時代」などのリンクが有効な場合があります。
    *   **判断基準:** スタートとゴールの間に、地理的、時間的な関連性は見いだせるか？

### 2.3. 中盤以降の進め方

*   **「ハブページ」からの再探索:** ハブページに到達したら、そこからゴールページへ向かうための新たな「ハブページ」や、ゴールページに直接繋がる可能性のあるページを探します。
*   **「逆引き」の思考:** ゴールページからスタートページへ辿ることを想像してみましょう。ゴールページからどのようなリンクを辿ればスタートページに到達できるかを考えると、逆算して進むべき道が見えてくることがあります。
*   **「迷ったら」戻る勇気:** 選択したリンクが遠回りだったと感じたら、躊躇なく前のページに戻り、別のリンクを試しましょう。
    *   **判断基準:** 現在のページから、ゴールへの道筋が見えなくなってきたか？

### 2.4. 20手以内のための心構え

*   **焦りは禁物:** 20手以内という制約はありますが、焦って適当なリンクを選ぶと、かえって手数を増やしてしまいます。
*   **「発見」を楽しむ:** Wikipediaゴルフは、知識の広がりや意外な繋がりを発見する楽しみもあります。
*   **「試行錯誤」を繰り返す:** 最初から完璧なルートを見つけるのは難しいです。何度も挑戦し、経験を
```

改訂版攻略本を示す。

```text
# Wikipediaゴルフ 攻略本 ～さらなる高みを目指すための戦略～ (改訂版)

## 1. 探索の初期段階における戦略的アプローチ

### 1.1. 始点ページの多角的分析と「ハブページ」の活用
ゲーム開始時、まずは始点ページの概要を深く理解することから始めましょう。そのページが持つ広範なテーマや、関連する主要な概念を把握することが、その後の探索の方向性を決定づけます。概要に登場するキーワードが、目標ページとどのように結びつく可能性があるかを常に意識してください。
さらに、多くのページからリンクされており、かつ多くのページへリンクしている「ハブページ」は、探索における極めて重要な中継地点となります。広範な概念を扱うページや、歴史的な出来事、地理的な区分などは、しばしばハブページとしての役割を果たします。これらのページを早期に特定し、そこを足がかりに探索を進めることで、無駄なリンク辿りを減らすことができます。

### 1.2. 地理的・概念的関連性の重視
目標ページが持つ固有の属性（地理、歴史、文化、専門分野など）を分析し、始点ページとの関連性を推測します。例えば、目標が特定の地域にある施設であれば、その地域の歴史や地理に関するページが有力な候補となります。また、目標が特定の概念や技術であれば、その概念の起源や関連技術に関するページを辿ることが有効です。

### 1.3. 業界・分野の特定とハブページへの接近
始点ページや目標ページが属する業界や分野を早期に特定することが重要です。例えば、製品名から製造企業を推測し、そこからその企業の属する業界（電機、自動車など）のハブページへ移動します。業界のハブページは、その業界全体の概要や主要企業、関連技術などを網羅しており、効率的な探索の足がかりとなります。

## 2. 探索の中盤における戦略的展開

### 2.1. 専門用語・固有名詞の活用と概念の拡張
探索が進むにつれて、目標が属する専門分野へと段階的に接近していくことが重要です。例えば、一般的な概念から、その概念が応用される特定の分野（医療、科学技術など）へと移動し、さらにその分野における専門用語や技術へと焦点を絞り込んでいきます。

### 2.2. 地理的・概念的結びつきの活用
目標が特定の地域や国と関連が深い場合、その地域や国のページを探索に組み込むことが有効です。地理的な繋がりは、しばしば概念的な繋がりよりも直接的な道筋を示すことがあります。

### 2.3. 組織・団体名の活用と関連組織への接近
特定の組織や団体名がページとして存在する場合、そこからその組織の関連団体、傘下組織、あるいは設立母体などへと移動することで、目標に近づくことができます。特に、公的機関や大規模な組織の場合、関連団体へのリンクが豊富に存在することが多く、効率的な探索に繋がります。

### 2.4. 関連分野への段階的接近
目標が特定の分野（例: スポーツ）に関連する場合、その分野に直接関連するページだけでなく、その分野の歴史、文化、あるいは関連する概念（例: 競技の起源、身体能力、地域文化との関わりなど）といった、より広範なページから段階的に接近していくことが有効です。例えば、あるスポーツのルールに関するページから、そのスポーツの発展史、さらにはそのスポーツが盛んな地域や文化へと移動することで、間接的ながらも確実な繋がりを見出すことができます。

## 3. 終盤における戦略的収束と目標達成への道筋

### 3.1. 固有名詞（人物・組織・出来事）への集約
探索が進み、目標が特定の人物、組織、あるいは歴史的な出来事に関連することが明らかになった場合、その固有名詞に焦点を絞り込みます。人物であれば、その人物の生没年、経歴、業績、関連人物などを辿り、組織であれば、その設立経緯、活動内容、関連組織などを調査します。歴史的な出来事であれば、その背景、経緯、影響などを詳細に調べます。

### 3.2. 時代背景・関連分野の活用
目標が特定の時代に活躍した人物である場合、その時代の社会状況、文化、技術、主要な出来事などを関連ページとして探索に組み込むことが有効です。特に、目標が編集者や作家など、出版やメディアに関連する人物である場合、その活躍した時代の出版状況、主要なメディア、作品などを辿ることで、目標への接近が容易になります。

### 3.3. 地理的
```

パッと見ただけでは、どちらが「強そうな攻略本」かを判断するのは難しい。Wikipediaゴルフという題材については、LLMが学習時点で既に多くの知識を持っているため、初版の時点でかなりそれらしいテキストが出ていることが影響していると考えられる。

次に、ポケモンWikiを対象としたポケモンWikiゴルフの攻略本を見てみる。最終版の攻略本は以下の通り。

```text
# ポケモンWikiゴルフ 攻略本 (改訂版)

## 1. 基本ルール

*   **目標:** ポケモンWiki内のページリンクのみを辿り、指定されたゴールページに20手以内で到達。
*   **移動:** 現在ページからリンク、または過去訪問ページへの移動。

## 2. 実践テクニック

### 2.1. ゴール特定と近接リンクの探索

*   **キーワードの抽出:** ゴール名に含まれる主要なキーワード（例: キャラクター名、アイテム名、ポケモン名、シリーズ名、作品名、地方名、施設名、カテゴリ名、エピソード名、年号など）を正確に把握する。特に「(GO)」「(アニメ)」「(カードゲーム)」などの付記は、ゴールページの種類や関連性を特定する上で重要となる。
*   **直接的な関連性の重視:** ゴール名に直接関連するリンクを最優先で探索する。特に、ゴール名の一部がそのままリンク名になっている場合は、有力な候補となる。ゴールに付記されている「(GO)」などの情報は、その後のページ選択において重要な手がかりとなる。
*   **カテゴリ・一覧ページの活用:** ゴールが特定のアイテム、ポケモン、技、キャラクター、エピソードなどの場合、「○○一覧」「○○の道具」「○○の外国語名一覧」「○○のトレーナー一覧」「○○サブタイトル一覧」といったページが、目的への近道となる可能性が高い。

### 2.2. ハブページとカテゴリの活用

*   **シリーズ・作品別ハブ:** 特定のゲームタイトル、アニメシリーズ、イベントなどのハブページは、関連情報へのポータルとなる。これらのページから、より詳細な情報へ段階的に進むことができる。
*   **カテゴリページ:** 「アイテム」「ポケモン」「技」「カードゲーム」などの大カテゴリページから、ゴールに関連するサブカテゴリへ段階的に絞り込む。
*   **「一覧」ページの活用:** 「○○一覧」は、目的のページへの近道となる場合が多い。特に、トレーナー一覧やポケモン一覧、サブタイトル一覧などは、ゴールが特定カテゴリに属する場合に非常に有効である。
*   **地域・地方ページ:** 特定の地方に生息するポケモンや登場するイベントがゴールの場合は、その地方のページを起点にすると効率的である。
*   **年号・シリーズ表記の確認:** ゴールに年号や特定のシリーズ名が含まれる場合（例: 「2023年版」「DP編」）、その表記に合致するページを優先的に探す。年号が異なる場合でも、同じタイトルの別シリーズが存在する可能性を考慮し、関連ページを探索する。

### 2.3. リンク選択の原則

*   **直接性:** ゴールに最も直接的に関連するリンクを選択することを常に意識する。ゴール名の一部がリンク名になっている場合は、最有力候補となる。ゴールに付記されている「(GO)」などの情報は、その後のページ選択において重要な手がかりとなる。
*   **専門性:** ゴールが特定のジャンル（例: アイテム、技、トレーナー、アニメエピソード）に属する場合、そのジャンルに特化したページを優先して選択する。
*   **網羅性:** 「○○一覧」「○○の外国語名一覧」といったページは、多くの関連ページへの入り口となるため、有効な選択肢となる場合が多い。
*   **逆算思考:** ゴールから逆算して、どのような情報が必要か、どのページにたどり着けばゴールに近づくかを常に考える。
*   **「○○ (メディア)」表記の区別:** ゲーム本体のページと、カードゲーム版など特定のメディアに特化したページを区別して選択する。ゴールに「(GO)」などの付記がある場合は、それに対応するページを優先的に探す。
*   **エピソード名との照合:** ゴールがエピソード名である場合、現在地がエピソード一覧ページであれば、ゴールに直接繋がるリンクを探す。ゴールと話数は一致するが年号が異なる場合、その年号に特化したエピソード一覧や、より広範な「スペシャルエピソード」のようなページを探索する。
*   **世代・作品名の確認:** ゴールに特定の世代や作品名が含まれる場合、その世代や作品に関連するページ（例: 「ポケットモンスター X・Y」）を優先的に探索する。直接的な関連ページが見つからない場合は、その作品が舞台となっている地方や、作品に関連する「一覧」ページなどを検討する。
*   **アイテム・植物名とポケモンの関連性:** ゴールが特定のポケモンである場合、そのポケモンに関連するアイテム（例: きのみ）や、そのポケモンが生息する場所
*   **番組名
```

> 特に「(GO)」「(アニメ)」「(カードゲーム)」などの付記は、ゴールページの種類や関連性を特定する上で重要となる。

といった記述が含まれている。これは、ポケモンWiki特有のページ名の付け方に対応したテクニックであり、人間があらかじめ明示的に教えなくても、プレイ経験の中からLLMが自力で見つけ出した知識と言える。

このように、攻略本の自動生成・自動改訂という枠組みを通じて、「人間があまりプレイしたことのないルールやサイト構造」であっても、AIが試行錯誤を通じて有用なテクニックを言語化してくれる可能性があることが示唆された。

## まとめと今後の課題

本書では、Wikipediaゴルフを題材に「攻略本をAIに書かせる」試みを紹介した。LLMにゲームをプレイさせ、その結果をもとに攻略本を自動的に改訂するサイクルを構築することで、ある程度の性能向上が得られることを確認した。

日本語版Wikipediaだけでなく、ポケモンWikiやWikitravelといった特化型Wikiでも同様の手法を試したところ、いずれも初版と比べてわずかながら成功率が改善する傾向が見られた。特にポケモンWikiでは、ページ名の付記に着目したテクニックなど、そのWiki特有のルールを踏まえた攻略が自動的に言語化されている点が興味深い。

一方で、性能の伸び幅は決して劇的ではなく、特にWikipediaゴルフでは初版と改訂版の差は小さい。これは、攻略本の長さ制限が短く、あまり細かなケース分けや例示を書けないことや、LLMが既にWeb上の攻略記事を学習していることが影響していると考えられる。

また、LLMの呼び出しコストやレート制限も、実験規模を広げる上で無視できない制約となる。より大規模なプレイログを集めたり、複数のモデルを比較したりするには、コストと性能のトレードオフを慎重に設計する必要がある。

今後の課題としては、次のような方向性が考えられる。

- 攻略本の表現力を高めつつ、文字数やトークン数の制約をうまく満たすプロンプト設計の工夫  
- ゲームのルールや評価指標を変えた場合（別のWiki、別のリンク制約など）に、どの程度汎用的に応用できるかの検証  
- LLMによる「プレイ」と「解説」の役割分担を工夫し、プレイログから特徴的な失敗パターンを抽出してから攻略本にまとめるなど、より分析的なパイプラインの導入  
- 盤上ゲームやカードゲームなど、非テキスト中心のゲームに対しても、何らかの形で「攻略本自動生成」を適用できるかの探索

攻略本自動生成は、まだ小さな一歩にすぎないが、「AIにゲームの遊び方を説明させる」という発想は、教育やチュートリアル設計、UIガイドなど、さまざまな応用先を持つ可能性がある。読者自身も、身近なゲームやサービスを題材に、LLMに独自の攻略本を書かせてみてほしい。本書が、その第一歩の参考になれば幸いである。
